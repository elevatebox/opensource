<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <style>
        body {
            background-color: #f4f7fa;
        }
        .container {
            max-width: 1200px;
        }
        .coadmin-card, .student-card {
            cursor: pointer;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 8px;
            transition: background-color 0.3s ease;
        }
        .coadmin-card:hover, .student-card:hover {
            background-color: #f1f1f1;
        }
        .nav-tabs {
            border-bottom: 2px solid #ddd;
        }
        .nav-tabs .nav-link {
            border: none;
            color: #495057;
        }
        .nav-tabs .nav-link.active {
            background-color: #007bff;
            color: #fff;
        }
        .tab-pane {
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
        }
        .table {
            margin-top: 20px;
            border-radius: 8px;
        }
        .table th, .table td {
            vertical-align: middle;
            text-align: left;
        }
        .table-bordered td, .table-bordered th {
            border: 1px solid #ddd;
        }
        .btn-primary {
            background-color: #007bff;
            border: none;
        }
        .btn-primary:hover {
            background-color: #0056b3;
        }
        .form-label {
            font-weight: 600;
        }
        .student-list {
            margin-top: 10px;
            padding-left: 20px;
        }
        .student-list li {
            list-style-type: none;
            margin-bottom: 5px;
        }
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
            }
            .nav-tabs {
                flex-wrap: wrap;
            }
            .coadmin-table, .student-table {
                font-size: 0.875rem;
            }
        }
    </style>
</head>
<body>

<div class="container mt-5">
    <h2 class="text-center text-primary mb-4">Admin Dashboard</h2>

    <div class="row">
        <div class="col-md-12">
            <ul class="nav nav-tabs" id="adminTabs">
                <li class="nav-item">
                    <a class="nav-link active" id="coadmin-tab" data-bs-toggle="tab" href="#coadmin">Co-admin Management</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="student-tab" data-bs-toggle="tab" href="#student">Student Management</a>
                </li>
            </ul>

            <div class="tab-content mt-4">
                <!-- Co-admin Management Tab -->
                <div class="tab-pane active" id="coadmin">
                    <h4 class="text-primary mb-3">Manage Co-admins</h4>
                    <ul class="nav nav-tabs" id="coadminSubTabs">
                        <li class="nav-item">
                            <a class="nav-link active" id="add-coadmin-tab" data-bs-toggle="tab" href="#add-coadmin">Add Co-admin</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="view-coadmin-tab" data-bs-toggle="tab" href="#view-coadmin">View Co-admins</a>
                        </li>
                    </ul>

                    <div class="tab-content mt-3">
                        <!-- Add Co-admin Tab -->
                        <div class="tab-pane active" id="add-coadmin">
                            <h5 class="text-secondary">Add New Co-admin</h5>
                            <form id="addCoadminForm">
                                <div class="mb-3">
                                    <label for="coadminName" class="form-label">Name</label>
                                    <input type="text" class="form-control" id="coadminName" required>
                                </div>
                                <div class="mb-3">
                                    <label for="coadminEmail" class="form-label">Email</label>
                                    <input type="email" class="form-control" id="coadminEmail" required>
                                </div>
                                <div class="mb-3">
                                    <label for="coadminPhone" class="form-label">Phone</label>
                                    <input type="text" class="form-control" id="coadminPhone" required>
                                </div>
                                <button type="submit" class="btn btn-primary">Add Co-admin</button>
                            </form>
                        </div>

                        <!-- View Co-admins Tab -->
                        <div class="tab-pane" id="view-coadmin">
                            <h5 class="text-secondary">View All Co-admins</h5>
                            <table class="table table-bordered coadmin-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Students Managed</th>
                                    </tr>
                                </thead>
                                <tbody id="coadminList">
                                    <!-- Co-admins will be listed here dynamically -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Student Management Tab -->
                <div class="tab-pane" id="student">
                    <h4 class="text-primary mb-3">Manage Students</h4>
                    <table class="table table-bordered student-table">
                        <thead>
                            <tr>
                                <th>Student Name</th>
                                <th>Email</th>
                                <th>Program</th>
                                <th>Phone</th>
                                <th>Enrollment Date</th>
                                <th>Co-admin</th>
                            </tr>
                        </thead>
                        <tbody id="studentList">
                            <!-- Student details will be listed here dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="../js/main.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Dummy Co-admin data with student lists
    const coadmins = [
        {
            id: 1,
            name: "John Doe",
            email: "johndoe@example.com",
            phone: "+1234567890",
            students: [
                { id: 101, name: "Alice Green" },
                { id: 102, name: "Bob Brown" },
                { id: 103, name: "Charlie Black" }
            ]
        },
        {
            id: 2,
            name: "Jane Smith",
            email: "janesmith@example.com",
            phone: "+0987654321",
            students: [
                { id: 104, name: "David White" },
                { id: 105, name: "Eva Blue" },
                { id: 106, name: "Fiona Gray" }
            ]
        }
    ];

    // Dummy Student data
    const students = [
        {
            id: 101,
            name: "Alice Green",
            email: "alice.green@example.com",
            program: "Computer Science",
            phone: "+1111111111",
            enrollmentDate: "2022-08-15",
            coadminName: "John Doe"
        },
        {
            id: 102,
            name: "Bob Brown",
            email: "bob.brown@example.com",
            program: "Electrical Engineering",
            phone: "+1222222222",
            enrollmentDate: "2021-09-10",
            coadminName: "John Doe"
        },
        {
            id: 104,
            name: "David White",
            email: "david.white@example.com",
            program: "Civil Engineering",
            phone: "+1444444444",
            enrollmentDate: "2020-05-30",
            coadminName: "Jane Smith"
        }
    ];

    // Function to display the list of co-admins
    function displayCoadmins() {
        const coadminList = document.getElementById('coadminList');
        coadminList.innerHTML = ''; // Clear previous content

        coadmins.forEach(coadmin => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${coadmin.name}</td>
                <td>${coadmin.email}</td>
                <td>${coadmin.phone}</td>
                <td>${coadmin.students.map(student => student.name).join(', ')}</td>
            `;
            coadminList.appendChild(row);
        });
    }

    // Function to display the list of students
    function displayStudents() {
        const studentList = document.getElementById('studentList');
        studentList.innerHTML = ''; // Clear previous content

        students.forEach(student => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${student.name}</td>
                <td>${student.email}</td>
                <td>${student.program}</td>
                <td>${student.phone}</td>
                <td>${student.enrollmentDate}</td>
                <td>${student.coadminName}</td>
            `;
            studentList.appendChild(row);
        });
    }

    // Function to handle adding a new co-admin
    document.getElementById('addCoadminForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const name = document.getElementById('coadminName').value;
        const email = document.getElementById('coadminEmail').value;
        const phone = document.getElementById('coadminPhone').value;

        // Add the new co-admin to the coadmins array
        coadmins.push({
            id: coadmins.length + 1,
            name,
            email,
            phone,
            students: []
        });

        // Clear form inputs
        document.getElementById('coadminName').value = '';
        document.getElementById('coadminEmail').value = '';
        document.getElementById('coadminPhone').value = '';

        alert('Co-admin added successfully!');
    });

    // Initialize the page
    window.onload = function() {
        displayCoadmins();
        displayStudents();
    };
</script>

</body>
</html>
